Phase,Deliverable,Task_ID,Task_Description,Complexity,Estimated_Hours,Primary_Risk
Planning,Requirements Clarified,PLN-01,Review requirements and architecture to confirm ingestion service and message bus scope,3,2,
Planning,Requirements Clarified,PLN-02,Confirm topic naming partition count and retention per environment,3,2,
Planning,Open Questions Resolved,PLN-03,Confirm Redpanda version and data directory sizing for VPS,3,2,
Planning,Open Questions Resolved,PLN-04,Obtain authoritative Lightstreamer item list and field mapping,2,1,
Planning,Open Questions Resolved,PLN-05,Confirm metrics collection standard and alert thresholds,3,2,
Planning,Open Questions Resolved,PLN-06,Confirm TLS termination location and IP allowlists for test endpoint,3,2,
Planning,PM Cadence Established,PLN-07,Schedule weekly status check in and publish concise progress report,2,1,
Planning,PM Cadence Established,PLN-08,Create and maintain risk register with owners and mitigations,3,2,
Planning,Access and Repo Ready,PLN-09,Verify Coolify access to VPS and environment readiness including SSL automation setup,2,2,
Planning,Access and Repo Ready,PLN-10,Create GitHub repository and enable Actions with required secrets,3,2,
Design,Internal Architecture Baseline,DES-01,Design Lightstreamer subscription with reconnect and resume behavior,5,4,
Design,Internal Architecture Baseline,DES-02,Design non blocking pipeline using bounded asyncio Queue and backpressure policy,6,5,
Design,Internal Architecture Baseline,DES-03,Design retry strategy with jitter and circuit breaker thresholds,5,4,
Design,Internal Architecture Baseline,DES-04,Define graceful shutdown and producer flush behavior on SIGTERM,5,4,
Design,Data Model and Event Schema,DES-05,Define Pydantic TelemetryEvent model with fields and constraints,3,2,
Design,Data Model and Event Schema,DES-06,Specify deterministic event_id hashing inputs and canonicalization,5,4,
Design,Data Model and Event Schema,DES-07,Define schema versioning policy and change management,4,3,
Design,Security Design,DES-08,Define authentication for test endpoint using static Bearer token via environment variable,3,2,
Design,Security Design,DES-09,Define endpoint exposure behind reverse proxy with automatic SSL certificates and IP allowlist options,3,2,
Design,Observability Plan,DES-10,Define Prometheus metrics for rates queue depth latencies publish results retries and reconnects,4,3,
Design,Observability Plan,DES-11,Define structured JSON logging fields and levels and optional Sentry toggle,3,2,
Design,Message Bus and Producer Config,DES-12,Define Kafka topic telemetry.raw.v1 with partitions 12 retention 7d and cleanup policy delete,3,2,
Design,Message Bus and Producer Config,DES-13,Define producer config for idempotence acks timeouts linger batch size and compression,4,3,
Design,Message Bus and Producer Config,DES-14,Define keying strategy by item_id to preserve per item ordering,3,2,
Design,Message Bus and Producer Config,DES-15,Define Redpanda container settings for localhost binding metrics port and data directory,4,3,
Design,Containerization and CI Plan,DES-16,Define Dockerfile base image entrypoint and runtime environment configuration,4,3,
Design,Containerization and CI Plan,DES-17,Define CI workflow stages for test build push and deploy trigger,4,3,
Development,Ingestion Service Implementation,DEV-01,Implement Lightstreamer subscriber with reconnect and resume,7,10,Unclear SDK reconnection semantics may cause missed updates
Development,Ingestion Service Implementation,DEV-02,Implement validation and normalization of incoming updates using Pydantic,4,4,
Development,Ingestion Service Implementation,DEV-03,Implement deterministic event_id computation using SHA 256,5,4,
Development,Ingestion Service Implementation,DEV-04,Enrich events with ingest_ts using timezone aware datetime,2,1,
Development,Ingestion Service Implementation,DEV-05,Implement bounded asyncio Queue with configurable size,4,3,
Development,Ingestion Service Implementation,DEV-06,Implement backpressure and return HTTP 429 when queue is full,5,4,
Development,Ingestion Service Implementation,DEV-07,Implement subscriber pause and resume based on queue high watermark,6,5,
Development,Ingestion Service Implementation,DEV-08,Implement retry with jitter and circuit breaker for transient failures,6,6,
Development,Kafka Producer Integration,DEV-09,Integrate confluent kafka producer using thread pool,7,8,Threading with asyncio may cause deadlocks or message loss
Development,Kafka Producer Integration,DEV-10,Configure idempotence acks timeouts linger batch and compression per design,5,3,
Development,Kafka Producer Integration,DEV-11,Implement per item Kafka key using item_id,3,2,
Development,Kafka Producer Integration,DEV-12,Implement delivery callbacks and surface producer metrics,6,5,
Development,HTTP API,DEV-13,Implement POST /api/v1/ingest/test to validate enqueue and return 201 with event_id,4,3,
Development,HTTP API,DEV-14,Implement GET /healthz endpoint,2,1,
Development,HTTP API,DEV-15,Implement GET /metrics endpoint in Prometheus format,4,3,
Development,Security and Configuration,DEV-16,Implement Bearer token authentication dependency using environment variable,3,2,
Development,Security and Configuration,DEV-17,Implement configuration loader for environment based settings with defaults including SSL automation,4,3,
Development,Security and Configuration,DEV-18,Ensure secrets are read from environment and not committed to repository,2,1,
Development,Observability and Logging,DEV-19,Implement structured JSON logging with request and event identifiers,3,3,
Development,Observability and Logging,DEV-20,Instrument metrics for rates queue depth latencies retries and reconnects,5,5,
Development,Observability and Logging,DEV-21,Add optional Sentry integration gated by DSN environment variable,3,2,
Development,Graceful Shutdown,DEV-22,Implement producer flush on shutdown and safe task cancellation,7,6,Race conditions during shutdown may drop or duplicate messages
Development,Container and CI,DEV-23,Write Dockerfile for FastAPI service with Uvicorn,3,2,
Development,Container and CI,DEV-24,Create GitHub Actions workflow to run tests and build and push image,4,3,
Testing,Unit Tests,TST-01,Write unit tests for Pydantic validation and field constraints,3,3,
Testing,Unit Tests,TST-02,Write unit tests verifying event_id determinism,4,3,
Testing,Unit Tests,TST-03,Write unit tests for Bearer token authentication dependency,3,2,
Testing,Unit Tests,TST-04,Write unit tests for configuration loader defaults and overrides,3,2,
Testing,Integration Tests,TST-05,Write integration test for POST ingest test enqueuing and 201 response,4,3,
Testing,Integration Tests,TST-06,Write integration test for publishing to Redpanda and receiving acknowledgements,6,5,
Testing,Integration Tests,TST-07,Write integration test validating per item ordering using Kafka key,6,5,
Testing,Integration Tests,TST-08,Write integration test verifying idempotent publish and no duplicates,6,5,
Testing,Reliability and Performance Tests,TST-09,Run baseline throughput test near 70 msg per second and capture P99 ingestion to produce latency,7,8,Environment variance may skew performance results
Testing,Reliability and Performance Tests,TST-10,Test backpressure by filling queue and asserting 429 responses and subscriber pause,5,4,
Testing,Reliability and Performance Tests,TST-11,Simulate Lightstreamer disconnects and verify reconnect with circuit breaker,6,6,
Testing,Reliability and Performance Tests,TST-12,Simulate broker downtime and verify retry with jitter and recovery,6,6,
Testing,Security Tests,TST-13,Verify unauthorized requests to test endpoint return 401 or 403,3,2,
Testing,Security Tests,TST-14,Verify payload size and timeout constraints are enforced,4,3,
Testing,Test Reporting,TST-15,Publish test reports and performance summary in CI artifacts,3,2,
Deployment,Message Bus Provisioned,DEP-01,Provision Redpanda single node container on VPS via Coolify with localhost binding,6,6,
Deployment,Message Bus Provisioned,DEP-02,Configure Redpanda data directory volume and retention policy,4,3,
Deployment,Message Bus Provisioned,DEP-03,Expose Redpanda metrics endpoint to localhost,3,2,
Deployment,Kafka Topics Configured,DEP-04,Create topic telemetry.raw.v1 with partitions 12 retention 7d and cleanup policy delete,3,2,
Deployment,Kafka Topics Configured,DEP-05,Verify topic configuration and retention behavior,3,2,
Deployment,Ingestion Service Deployed to Staging,DEP-06,Deploy ingestion service container to staging via Coolify with environment configuration and SSL automation,5,4,
Deployment,Ingestion Service Deployed to Staging,DEP-07,Configure service health checks and restart policy in Coolify,4,3,
Deployment,Ingestion Service Deployed to Staging,DEP-08,Run staging smoke test to ingest sample and verify message in Kafka topic,4,3,
Deployment,Observability and Alerts,DEP-09,Configure Prometheus to scrape metrics endpoint for ingestion service,4,3,
Deployment,Observability and Alerts,DEP-10,Configure Prometheus to scrape Redpanda metrics if present locally,4,3,
Deployment,Observability and Alerts,DEP-11,Configure alerts for queue depth high watermark publish failures broker disk above 80 percent broker restarts and reconnect churn,6,6,
Deployment,Production Release,DEP-12,Promote image and configuration to production in Coolify with SSL certificate validation,5,4,
Deployment,Production Release,DEP-13,Apply topic configuration in production environment,3,2,
Deployment,Production Release,DEP-14,Execute production smoke test and validate rollback plan,7,6,Rolled back deployment may leave partial state or downtime
Deployment,Runbook and Documentation,DEP-15,Publish operational runbook for startup and shutdown order backup guidance and incident steps,4,4,
Deployment,Runbook and Documentation,DEP-16,Document consumer replay and time seek instructions for analytics teams,4,3,
Deployment,Runbook and Documentation,DEP-17,Document environment variables and configuration reference,3,3,
Deployment,CI CD Deploy Automation,DEP-18,Add deploy step in CI to trigger Coolify on main after successful tests,4,3,